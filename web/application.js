var	gParameterMap = 
{
	"LFO1Rate" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 17,
		"offset" : 103,
		"size" : 7
	},
	"KeyboardMixACMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 321,
		"offset" : 640,
		"size" : 1
	},
	"LFO1PanMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 265,
		"offset" : 598,
		"size" : 1
	},
	"KeyboardPanMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 323,
		"offset" : 638,
		"size" : 1
	},
	"LFO1LFO2AmountMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 264,
		"offset" : 599,
		"size" : 1
	},
	"WaveNumberB" :
	{
		"min" : 0,
		"max" : 127,
		"range" : 128,
		"number" : 1,
		"offset" : 7,
		"size" : 7
	},
	"WaveNumberC" :
	{
		"min" : 0,
		"max" : 127,
		"range" : 128,
		"number" : 2,
		"offset" : 14,
		"size" : 7
	},
	"WaveNumberD" :
	{
		"min" : 0,
		"max" : 127,
		"range" : 128,
		"number" : 3,
		"offset" : 21,
		"size" : 7
	},
	"PressureFreqCMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 290,
		"offset" : 630,
		"size" : 1
	},
	"LFO2FilterCutoffMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 276,
		"offset" : 613,
		"size" : 1
	},
	"LFO2MixBDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 278,
		"offset" : 611,
		"size" : 1
	},
	"ArpScan" :
	{
		"min" : 0,
		"max" : 7,
		"range" : 8,
		"number" : 88,
		"offset" : 539,
		"size" : 3
	},
	"LFO1FreqAMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 256,
		"offset" : 607,
		"size" : 1
	},
	"MixEnvXLevel0" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 47,
		"offset" : 297,
		"size" : 7
	},
	"KeyboardFilterCutoffMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 320,
		"offset" : 641,
		"size" : 1
	},
	"FilterEnvRepeat" :
	{
		"min" : 0,
		"max" : 7,
		"range" : 8,
		"number" : 41,
		"offset" : 259,
		"size" : 3
	},
	"MixEnvXLevel2" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 49,
		"offset" : 311,
		"size" : 7
	},
	"ModWheelLFO2AmountMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 353,
		"offset" : 645,
		"size" : 1
	},
	"MixEnvXLevel1" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 48,
		"offset" : 304,
		"size" : 7
	},
	"MixEnvXLevel4" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 51,
		"offset" : 325,
		"size" : 7
	},
	"PressureFreqAMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 288,
		"offset" : 632,
		"size" : 1
	},
	"MixEnvXLevel3" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 50,
		"offset" : 318,
		"size" : 7
	},
	"CoarseFrequencyD" :
	{
		"min" : 0,
		"max" : 24,
		"range" : 25,
		"number" : 7,
		"offset" : 43,
		"size" : 5
	},
	"CoarseFrequencyC" :
	{
		"min" : 0,
		"max" : 24,
		"range" : 25,
		"number" : 6,
		"offset" : 38,
		"size" : 5
	},
	"ArpRate" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 86,
		"offset" : 530,
		"size" : 7
	},
	"CoarseFrequencyB" :
	{
		"min" : 0,
		"max" : 24,
		"range" : 25,
		"number" : 5,
		"offset" : 33,
		"size" : 5
	},
	"CoarseFrequencyA" :
	{
		"min" : 0,
		"max" : 24,
		"range" : 25,
		"number" : 4,
		"offset" : 28,
		"size" : 5
	},
	"PressureAmpEnvMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 299,
		"offset" : 621,
		"size" : 1
	},
	"AmpEnvLoop" :
	{
		"min" : 0,
		"max" : 6,
		"range" : 7,
		"number" : 28,
		"offset" : 180,
		"size" : 3
	},
	"LFO1FreqDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 259,
		"offset" : 604,
		"size" : 1
	},
	"FilterEnvLevel4" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 39,
		"offset" : 249,
		"size" : 7
	},
	"FilterResonance" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 13,
		"offset" : 83,
		"size" : 7
	},
	"FilterEnvLevel3" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 38,
		"offset" : 242,
		"size" : 7
	},
	"FilterEnvLevel2" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 37,
		"offset" : 235,
		"size" : 7
	},
	"FilterEnvLevel1" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 36,
		"offset" : 228,
		"size" : 7
	},
	"FilterEnvLevel0" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 35,
		"offset" : 221,
		"size" : 7
	},
	"ArpRest" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 95,
		"offset" : 551,
		"size" : 1
	},
	"ModWheelChorusDepthMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 354,
		"offset" : 644,
		"size" : 1
	},
	"LFO2FreqAMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 272,
		"offset" : 617,
		"size" : 1
	},
	"FilterEnvModAmount" :
	{
		"min" : -99,
		"max" : 99,
		"range" : 199,
		"number" : 101,
		"offset" : 590,
		"size" : 8
	},
	"VelocityPanMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 308,
		"offset" : 633,
		"size" : 1
	},
	"FilterEnvRate4A" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 34,
		"offset" : 214,
		"size" : 7
	},
	"LFO2MixACMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 277,
		"offset" : 612,
		"size" : 1
	},
	"Voice4Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 73,
		"offset" : 455,
		"size" : 7
	},
	"AmpEnvRepeat" :
	{
		"min" : 0,
		"max" : 7,
		"range" : 8,
		"number" : 29,
		"offset" : 183,
		"size" : 3
	},
	"LFO2FreqCMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 274,
		"offset" : 615,
		"size" : 1
	},
	"LinkProgram" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 61,
		"offset" : 382,
		"size" : 7
	},
	"LFO1Shape" :
	{
		"min" : 0,
		"max" : 4,
		"range" : 5,
		"number" : 15,
		"offset" : 97,
		"size" : 3
	},
	"VelocityFilterEnvMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 304,
		"offset" : 637,
		"size" : 1
	},
	"Voice3Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 72,
		"offset" : 448,
		"size" : 7
	},
	"FilterEnvLoop" :
	{
		"min" : 0,
		"max" : 6,
		"range" : 7,
		"number" : 40,
		"offset" : 256,
		"size" : 3
	},
	"Voice7Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 76,
		"offset" : 476,
		"size" : 7
	},
	"LFO2PanMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 281,
		"offset" : 608,
		"size" : 1
	},
	"PressureMixBDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 294,
		"offset" : 626,
		"size" : 1
	},
	"FilterCutoff" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 12,
		"offset" : 76,
		"size" : 7
	},
	"MixEnvRate4A" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 46,
		"offset" : 290,
		"size" : 7
	},
	"LFO2LFO1RateMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 279,
		"offset" : 610,
		"size" : 1
	},
	"FineFrequencyA" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 8,
		"offset" : 48,
		"size" : 7
	},
	"ArpVelocity" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 93,
		"offset" : 549,
		"size" : 1
	},
	"ArpVoicing" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 92,
		"offset" : 548,
		"size" : 1
	},
	"ModWheelLFO1AmountMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 352,
		"offset" : 646,
		"size" : 1
	},
	"ChorusDepth" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 68,
		"offset" : 420,
		"size" : 7
	},
	"LFO2ModAmount" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 97,
		"offset" : 559,
		"size" : 7
	},
	"MixEnvYLevel4" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 56,
		"offset" : 360,
		"size" : 7
	},
	"LFO2Shape" :
	{
		"min" : 0,
		"max" : 4,
		"range" : 5,
		"number" : 16,
		"offset" : 100,
		"size" : 3
	},
	"MixEnvYLevel1" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 53,
		"offset" : 339,
		"size" : 7
	},
	"MixEnvYLevel0" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 52,
		"offset" : 332,
		"size" : 7
	},
	"MixEnvYLevel3" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 55,
		"offset" : 353,
		"size" : 7
	},
	"Voice5Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 74,
		"offset" : 462,
		"size" : 7
	},
	"MixEnvYLevel2" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 54,
		"offset" : 346,
		"size" : 7
	},
	"VelocityMixACMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 305,
		"offset" : 636,
		"size" : 1
	},
	"PressureFreqDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 291,
		"offset" : 629,
		"size" : 1
	},
	"FineFrequencyD" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 11,
		"offset" : 69,
		"size" : 7
	},
	"FineFrequencyC" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 10,
		"offset" : 62,
		"size" : 7
	},
	"FineFrequencyB" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 9,
		"offset" : 55,
		"size" : 7
	},
	"WaveNumberA" :
	{
		"min" : 0,
		"max" : 127,
		"range" : 128,
		"number" : 0,
		"offset" : 0,
		"size" : 7
	},
	"Name4" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 81,
		"offset" : 505,
		"size" : 5
	},
	"Name3" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 80,
		"offset" : 500,
		"size" : 5
	},
	"LFO2FreqBMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 273,
		"offset" : 616,
		"size" : 1
	},
	"Name6" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 83,
		"offset" : 515,
		"size" : 5
	},
	"Name5" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 82,
		"offset" : 510,
		"size" : 5
	},
	"VelocityMixBDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 306,
		"offset" : 635,
		"size" : 1
	},
	"PressureLFO2RateMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 297,
		"offset" : 623,
		"size" : 1
	},
	"Name8" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 85,
		"offset" : 525,
		"size" : 5
	},
	"DoubleModeDetune" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 62,
		"offset" : 389,
		"size" : 5
	},
	"Name7" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 84,
		"offset" : 520,
		"size" : 5
	},
	"PressureFreqBMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 289,
		"offset" : 631,
		"size" : 1
	},
	"Name2" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 79,
		"offset" : 495,
		"size" : 5
	},
	"MixEnvRepeat" :
	{
		"min" : 0,
		"max" : 7,
		"range" : 8,
		"number" : 58,
		"offset" : 370,
		"size" : 3
	},
	"ChorusRate" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 67,
		"offset" : 413,
		"size" : 7
	},
	"Name1" :
	{
		"min" : 0,
		"max" : 31,
		"range" : 32,
		"number" : 78,
		"offset" : 490,
		"size" : 5
	},
	"PressureFilterCutoffMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 292,
		"offset" : 628,
		"size" : 1
	},
	"UnisonDetune" :
	{
		"min" : 0,
		"max" : 7,
		"range" : 8,
		"number" : 64,
		"offset" : 401,
		"size" : 3
	},
	"LFO1FilterCutoffMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 260,
		"offset" : 603,
		"size" : 1
	},
	"Voice2Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 71,
		"offset" : 441,
		"size" : 7
	},
	"Voice8Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 77,
		"offset" : 483,
		"size" : 7
	},
	"ArpLayer" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 94,
		"offset" : 550,
		"size" : 1
	},
	"SplitPoint" :
	{
		"min" : 0,
		"max" : 127,
		"range" : 128,
		"number" : 60,
		"offset" : 375,
		"size" : 7
	},
	"LFO1FreqBMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 257,
		"offset" : 606,
		"size" : 1
	},
	"MixEnvLoop" :
	{
		"min" : 0,
		"max" : 6,
		"range" : 7,
		"number" : 57,
		"offset" : 367,
		"size" : 3
	},
	"AmpEnvRate4A" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 23,
		"offset" : 145,
		"size" : 7
	},
	"FilterEnvRate3" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 32,
		"offset" : 200,
		"size" : 7
	},
	"FilterEnvRate4" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 33,
		"offset" : 207,
		"size" : 7
	},
	"FilterEnvRate1" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 30,
		"offset" : 186,
		"size" : 7
	},
	"ProgramVolume" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 69,
		"offset" : 427,
		"size" : 7
	},
	"FilterEnvRate2" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 31,
		"offset" : 193,
		"size" : 7
	},
	"PressureLFO2AmountMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 298,
		"offset" : 622,
		"size" : 1
	},
	"VelocityAmpEnvMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 307,
		"offset" : 634,
		"size" : 1
	},
	"PressurePanMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 300,
		"offset" : 620,
		"size" : 1
	},
	"LFO2LFO1AmountMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 280,
		"offset" : 609,
		"size" : 1
	},
	"PressureMixACMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 293,
		"offset" : 627,
		"size" : 1
	},
	"VelocityModAmount" :
	{
		"min" : -99,
		"max" : 99,
		"range" : 199,
		"number" : 99,
		"offset" : 574,
		"size" : 8
	},
	"Glide" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 65,
		"offset" : 404,
		"size" : 7
	},
	"KeyboardMixBDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 322,
		"offset" : 639,
		"size" : 1
	},
	"PressureLFO1RateMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 295,
		"offset" : 625,
		"size" : 1
	},
	"LFO2FreqDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 275,
		"offset" : 614,
		"size" : 1
	},
	"LFO1MixBDMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 262,
		"offset" : 601,
		"size" : 1
	},
	"FilterEnvPanMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 337,
		"offset" : 642,
		"size" : 1
	},
	"PressureLFO1AmountMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 296,
		"offset" : 624,
		"size" : 1
	},
	"ArpOctaves" :
	{
		"min" : 0,
		"max" : 3,
		"range" : 4,
		"number" : 89,
		"offset" : 542,
		"size" : 2
	},
	"AmpEnvRate3" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 21,
		"offset" : 131,
		"size" : 7
	},
	"DoubleModeDelay" :
	{
		"min" : 0,
		"max" : 127,
		"range" : 128,
		"number" : 63,
		"offset" : 394,
		"size" : 7
	},
	"AmpEnvRate4" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 22,
		"offset" : 138,
		"size" : 7
	},
	"PressureChorusRateMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 301,
		"offset" : 619,
		"size" : 1
	},
	"LFO1MixACMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 261,
		"offset" : 602,
		"size" : 1
	},
	"AmpEnvRate1" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 19,
		"offset" : 117,
		"size" : 7
	},
	"AmpEnvRate2" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 20,
		"offset" : 124,
		"size" : 7
	},
	"PressureChorusDepthMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 302,
		"offset" : 618,
		"size" : 1
	},
	"MixEnvRate3" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 44,
		"offset" : 276,
		"size" : 7
	},
	"MixEnvRate4" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 45,
		"offset" : 283,
		"size" : 7
	},
	"MixEnvRate1" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 42,
		"offset" : 262,
		"size" : 7
	},
	"Voice1Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 70,
		"offset" : 434,
		"size" : 7
	},
	"MixEnvRate2" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 43,
		"offset" : 269,
		"size" : 7
	},
	"ChorusRightLeft" :
	{
		"min" : 0,
		"max" : 3,
		"range" : 4,
		"number" : 66,
		"offset" : 411,
		"size" : 2
	},
	"FilterEnvAmount" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 14,
		"offset" : 90,
		"size" : 7
	},
	"ArpSplit" :
	{
		"min" : 0,
		"max" : 3,
		"range" : 4,
		"number" : 91,
		"offset" : 546,
		"size" : 2
	},
	"ArpMode" :
	{
		"min" : 0,
		"max" : 3,
		"range" : 4,
		"number" : 87,
		"offset" : 537,
		"size" : 2
	},
	"LFO2Rate" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 18,
		"offset" : 110,
		"size" : 7
	},
	"PressureModAmount" :
	{
		"min" : -99,
		"max" : 99,
		"range" : 199,
		"number" : 98,
		"offset" : 566,
		"size" : 8
	},
	"Voice6Pan" :
	{
		"min" : -63,
		"max" : 63,
		"range" : 127,
		"number" : 75,
		"offset" : 469,
		"size" : 7
	},
	"LFO1FreqCMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 258,
		"offset" : 605,
		"size" : 1
	},
	"ArpRepeats" :
	{
		"min" : 0,
		"max" : 3,
		"range" : 4,
		"number" : 90,
		"offset" : 544,
		"size" : 2
	},
	"LFO1ModAmount" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 96,
		"offset" : 552,
		"size" : 7
	},
	"AmpEnvLevel3" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 27,
		"offset" : 173,
		"size" : 7
	},
	"FilterEnvFreqMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 336,
		"offset" : 643,
		"size" : 1
	},
	"AmpEnvLevel0" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 24,
		"offset" : 152,
		"size" : 7
	},
	"AmpEnvLevel1" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 25,
		"offset" : 159,
		"size" : 7
	},
	"AmpEnvLevel2" :
	{
		"min" : 0,
		"max" : 99,
		"range" : 100,
		"number" : 26,
		"offset" : 166,
		"size" : 7
	},
	"KeyboardModAmount" :
	{
		"min" : -99,
		"max" : 99,
		"range" : 199,
		"number" : 100,
		"offset" : 582,
		"size" : 8
	},
	"LFO1LFO2RateMod" :
	{
		"min" : 0,
		"max" : 1,
		"range" : 2,
		"number" : 263,
		"offset" : 600,
		"size" : 1
	},
	"KeyboardMode" :
	{
		"min" : 0,
		"max" : 2,
		"range" : 3,
		"number" : 59,
		"offset" : 373,
		"size" : 2
	}
};

var	Application = function (inCallback)
{
	positron.Application.call (this, inCallback);
	
	this.midiChannel0 = 0;
	this.midiInputPortID = 0;
	this.midiOutputPortID = 0;
	this.currentParameterNumber = -1;
	
	this.parameterMessageCount = 0;
}
monohm.inherits (Application, positron.Application);

// called from positron "call" action
// hence params are in object params
Application.prototype.sendParameterChange = function ()
{
	this.sendParameterChangeMessage (this.params.name, this.params.value);
}

Application.prototype.sendParameterChangeMessage = function (inName, inValue)
{
	console.log ("sendParameterChangeMessage(" + inName + "," + inValue + ")");
	
	var	parameterSpec = gParameterMap [inName];
	
	if (! parameterSpec)
	{
		console.error ("no parameter map entry for parameter: " + inName);
		return;
	}
	
	var	parameterNumber = parameterSpec.number;
	
	var	messageBuffer = new Array ();
	
	this.parameterMessageCount++;
	
	// if we're sending a value on the current parameter
	// then there's no need for the parameter select messages
	if (parameterNumber != this.currentParameterNumber || this.parameterMessageCount > 10)
	{
		this.parameterMessageCount = 0;
		
		// console.log ("new parameter number: " + parameterNumber);
		
		var	parameterNumberLSB = parameterNumber & 0xff;
		var	parameterNumberMSB = (parameterNumber >> 8) & 0xff;
		
		messageBuffer.push (0xb0 | this.midiChannel0);
		messageBuffer.push (0x62);
		messageBuffer.push (parameterNumberLSB);

		messageBuffer.push (0xb0 | this.midiChannel0);
		messageBuffer.push (0x63);
		messageBuffer.push (parameterNumberMSB);
	}

	// ok now the data entry slider bit
	// this has a resolution of 8 bits
	// we must use all the resolution
	// no matter what the parameter size
	// weird eh?

	// HACK convert to positive range
	if (parameterSpec.size == 8 && parameterSpec.range == 199)
	{
		inValue += 99;
	}
	
	if (parameterSpec.size == 7 && parameterSpec.range == 127)
	{
		inValue += 63;
	}

	// convert to range-based units
	inValue /= parameterSpec.range;
	
	// scale up to 8-bit range
	inValue *= 256;
	
	// back to integerland
	inValue = Math.ceil (inValue);
	
	// MSB is bits 8:1
	var	valueMSB = (inValue >> 1) & 0x7f;
	
	// LSB is bit 0 shifted
	var	valueLSB = (inValue & 0x01) << 6;
	
	messageBuffer.push (0xb0 | this.midiChannel0);
	messageBuffer.push (0x26);
	messageBuffer.push (valueLSB);
	
	messageBuffer.push (0xb0 | this.midiChannel0);
	messageBuffer.push (0x06);
	messageBuffer.push (valueMSB);
	
	console.log ("sending MIDI message");
	console.log (messageBuffer);
	
	gApplication.sendMIDI (this.midiOutputPortID, messageBuffer);
}

// called from positron "call" action
// hence params are in object params
Application.prototype.setMIDIOutputChannel = function ()
{
	console.log ("setMIDIOutputChannel(" + this.params.midi_output_channel0 + ")");

	this.midiChannel0 = parseInt (this.params.midi_output_channel0);
}

// called from positron "call" action
// hence params are in object params
Application.prototype.setMIDIOutputPortID = function ()
{
	console.log ("setMIDIOutputPortID(" + this.params.midi_output_port_id + ")");

	this.midiOutputPortID = parseInt (this.params.midi_output_port_id);
}

